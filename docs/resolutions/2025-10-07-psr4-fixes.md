# 2025-10-07 â€” PSR-4 Autoload Fixes

## Summary

- Normalised Composer autoload configuration to only expose the `App\` namespace and exclude `_archive`/`_quarantine` code paths.
- Added PSR-4 auditing and duplicate-class quarantine tooling under `tools/`.
- Relocated an obsolete `App\Exceptions\Gateway\GatewayTimeoutException` duplicate into `app/_quarantine/dupes`.

## Context

Composer's optimised autoloader was indexing archived code and duplicate classes, resulting in PSR-4 warnings and unpredictable class resolution during deployment. The audit uncovered multiple namespace mismatches that will be addressed in follow-up refactors.

## Rollback Strategy

1. Restore `composer.json` from the previous commit.
2. Delete the newly added `tools/` scripts and documentation files.
3. Move any files inside `app/_quarantine/dupes` back to their original locations if they need to be restored.
4. Run `COMPOSER_MEMORY_LIMIT=-1 php composer.phar dump-autoload -o` to rebuild the old autoloader state.

## Verification

- `COMPOSER_MEMORY_LIMIT=-1 php composer.phar dump-autoload -o`
- `php tools/psr4-audit.php` (should list remaining mismatches for remediation)
- `php tools/find-duplicate-classes.php --src app --dry-run`
